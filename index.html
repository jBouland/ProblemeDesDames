<!doctype html>

<html>
<head>
	<meta charset="utf-8">
	<title>Projet des N-Dames</title>
	<script src="linked-list.js"></script>
	<script src="app.js"></script>
	<script src="node_modules/jquery/dist/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet"> 
</head>
<body>
	<div>
		<h1>Projet - Problème des n-dames  <img class="imgQueen" src="images/queen.jpg"> </h1>
		<br/>	
		<p>Ce projet propose de résoudre le problème des n-dames en utilisant différents algorithmes tels que le recuit simulé, la méthode de la liste tabou et l'algorithme génétique.
			<br/>
			Le problème des n-dames consiste à placer n dames sur un échiquier de taille NxN sans qu'aucune dame n'en menace une autre, en suivant les règles de menaces des échecs.</p>


			<p>
				<img class="imgWarning" src="images/warning.png"> 
				Nous recommandons d'utiliser Google Chrome pour tester les échiquiers de taille importante.
			</p>	

			<h3>Situation initiale</h3>
			<p>Pour résoudre ce problème, nous avons décidé de placer par défaut une dame sur chaque colonne en suivant la diagonale. On applique ensuite l'algorithme voulu avec les paramètres définis.</p>

			<p>
				La fitness est définie comme étant le nombre de dames étant en menace. Le but sera donc de minimiser la fitness et la solution de notre problème sera une solution ayant une fitness égal à 0.<br>
			</p>
		</div>
		<div class="paramGlobaux">
			<h3>Nombre de dames</h3>
		</div>
		<input type="number" id="size" value="500">
		<div class="algoArea">
			<h2>Recuit simulé</h2>
			<div class="param">
				Température
				<input type="number" id="temperature" value="500">
				<br/>
				n1
				<input type="number" id="n1" value="250">
				<br/>
				n2
				<input type="number" id="n2" value="250">
				<br/>
				micron
				<input type="decimal" id="micron" value="0">
				<br/>
				<br/>
				<button onclick="callAlgoRecuitSimule()">Recuit simulé</button> 
			</div>
						<div class="result">Fitness : <span id="fitnessTaboo"></span></div>
			<div>
				<h4>Explications : </h4>
				<p>La méthode recuit simulé consiste à choisir la meilleure solution dans le voisinage de la solution actuelle pour améliorer la fitness progressivement. <br>

				La température est le paramètre qui va définir l'écart de fitness accepté entre 2 solutions, ainsi elle permet de pouvoir explorer des solutions plus "lointaines" afin de ne pas se retrouver bloquer dans un minimum local.<br>

				n2 est le nombre d'itérations de changement de colonnes pour la même température d'entrée.
				n1 est le nombre de changement de température qui sera fait. Ce changement se fait en multipliant la température par le paramètre micron.<br>

				Ainsi si l'on a 200 en n1 et 300 en n2. Alors on effectue 300 itérations pour 200 températures ayant évolués.<br>



				la complexité du calcul de fitness d'une solution est de l'ordre de log(n). Ainsi la complexité de tout l'algorithme est de n1*n2*log(n)
				Lorsqu'on augmente la taille de l'échiquier, la durée de l'algorithme augmente donc de manière logarithmique.<br>
				Parfois il arrive que le recuit simulé trouve une solution optimale (fitness = 0) assez rapidement, dans ce cas, il s'arrète</p></div>


					<table class="resultTable">
						<tr>
							<th>taille échiquier</th>
							<th>Temperature</th>
							<th>n1</th>
							<th>n2</th>
							<th>Micron</th>
							<th>Fitness trouvée</th>
							<th>Durée</th>
							<th>Itérations</th>
						</tr>
						<tr>
							<td>500</td>
							<td>5000</td>
							<td>250</td>
							<td>300</td>
							<td>0.92</td>
							<td>0</td>
							<td>~18 secondes</td>
							<td>~72 600</td>
						</tr>
						<tr>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
						</tr>
						<tr>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
							<td>10/10</td>
						</tr>
					</table>
				</div>


		</div>

		<div class="algoArea">
			<h3>Méthode Tabou</h3>
			<div class="param">
				Taille de la liste Tabou
				<input type="number" id="tabooSize">
				<br/>
				<button onclick="callAlgoTaboo()">Tabou</button>
			</div>
			<div class="result">Fitness : <span id="fitnessTaboo"></span></div>
			<div>
				<h4>Explications : </h4>
				<p>La méthode liste taboue consiste à choisir la meilleure solution dans le voisinage de la solution actuelle pour améliorer la fitness progressivement. Elle implémente une liste de solutions "taboues", qui évitent de retourner sur des solutions déjà visitées. <br/> 
					Pour ce problème, on défini une solution voisine comme une solution qui demande une seule permutation de dames. Malheuresement, la méthode de la liste taboue n'est pas adaptée à la résolution de ce problème. En effet, la complexité du calcul de fitness d'une solution est de l'ordre de n*log(n) pour chaque dame. La recherche du meilleur voisin est donc d'une complexité de <b>n² *  log(n)</b>, et ceux, à chaque itération de l'algorithme. 
					Lorsqu'on augmente la taille de l'échiquier, la durée de l'algorithme augmente donc de manière exponentielle.<br>
					Pour éviter ce problème et obtenir un résultat dans un temps acceptable, nous avons limité le choix du meilleur voisin à un échantillon réduit pour les tailles d'échiquier les plus importantes.</p></div>
					<table class="resultTable">
						<tr>
							<th>Paramètres (taille échiquier/taille liste taboue)</th>
							<th>Fitness trouvée</th>
							<th>Durée</th>
							<th>Itérations</th>
						</tr>
						<tr>
							<td>10/10</td>
							<td>0</td>
							<td>5.86ms</td>
							<td>22</td>
						</tr>
						<tr>
							<td>50/10</td>
							<td>0</td>
							<td>40.43ms</td>
							<td>173</td>
						</tr>
						<tr>
							<td>50/0</td>
							<td>0</td>
							<td>56.65ms</td>
							<td>287</td>
						</tr>
						<tr>
							<td>200/10</td>
							<td>5</td>
							<td>12.61s</td>
							<td>5000 (cap atteint)</td>
						</tr>
						<tr>
							<td>500/10</td>
							<td>16</td>
							<td>80s</td>
							<td>5000 (cap atteint)</td>
						</tr>
					</table>
				</div>

				<div class="algoArea">
					<h3>Méthode génétique</h3>
					<div class="param">
					</div>
					<button onclick="algoGenetique()">Génétique</button>
				</div>		
				<br/>
				<div class="algoArea">
					<h3>Méthode du moindre conflit</h3>
					<div class="param">
					</div>
					<button onclick="callAlgoMoindreConflit()">Moindre Conflit</button>
				</div>	


			</body>

			</html>
